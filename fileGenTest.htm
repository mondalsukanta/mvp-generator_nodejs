<!DOCTYPE html>
<head>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
   <!-- Latest compiled and minified CSS -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
   <div class="page-header">
      <h1><small>Docker Template Form</small></h1>
    </div>
   <form id="dockerGenForm">
      <div class="form-group">
         <label for="tech" class="col-sm-2 col-form-label">Tech :</label>
         <input type="text"  class="form-control-plaintext" id="techInput" name="txtTechInput"/><br><br>

         <label for="projectName" class="col-sm-2 col-form-label">Project name:</label>
         <input type="text"  class="form-control-plaintext" id="projectNameInput"/><br><br>
   
         <label for="appPort" class="col-sm-2 col-form-label">App port:</label>
         <input type="text"  class="form-control-plaintext" id="appPortInput"/><br><br>
   
         <label for="javaVersion" class="col-sm-2 col-form-label">Java version:</label>
         <input type="text"  class="form-control-plaintext" id="javaVersionInput"/><br><br>
   
         <label for="finalName" class="col-sm-2 col-form-label">Final name:</label>
         <input type="text"  class="form-control-plaintext" id="finalNameInput"/><br><br>
   
      </div>
   </form>

  <!-- <form id="dockerGenForm">
      <label for="tech">Tech :</label>
      <input type="text" id="techInput" name="txttechInput"/><br><br>

      <label for="projectName">Project name:</label>
      <input type="text"  class="form-control" id="projectNameInput"/><br><br>

      <label for="appPort">App port:</label>
      <input type="text"  class="form-control" id="appPortInput"/><br><br>

      <label for="javaVersion">Java version:</label>
      <input type="text"  class="form-control" id="javaVersionInput"/><br><br>

      <label for="finalName">Final name:</label>
      <input type="text"  class="form-control" id="finalNameInput"/><br><br>

    <input id="dockerButton" type="submit" value="Docker Gen"/>

    </form> -->
    <br><br>
    <div class="page-header">
      <h1><small>Pipeline Template Form</small></h1>
    </div>
    <form id="pipelineGenForm">
      <label for="projectName" class="col-sm-2 col-form-label">Project name:</label>
      <input type="text" class="form-control-plaintext" id="pipelineProjectNameInput"/><br><br>

      <label for="appPort" class="col-sm-2 col-form-label">App port:</label>
      <input type="text" class="form-control-plaintext" id="piplelineAppPortInput"/><br><br>

    </form>
    <!-- <form id="pipelineGenForm">

      <label for="projectName">Project name:</label>
      <input type="text" id="pipelineProjectNameInput"/><br><br>

      <label for="appPort">App port:</label>
      <input type="text" id="piplelineAppPortInput"/><br><br>

    </form> -->
    <br><br>
    <div class="page-header">
      <h1><small>Deployment Template Form</small></h1>
    </div>
    <form id="deploymentGenForm">

      <label for="projectName" class="col-sm-2 col-form-label">Project name:</label>
      <input type="text" class="form-control-plaintext" id="deploymentProjectNameInput"/><br><br>

      <label for="appPort" class="col-sm-2 col-form-label">App port:</label>
      <input type="text" class="form-control-plaintext" id="deploymentAppPortInput"/><br><br>

      <!-- <input id="deploymentButton" type="submit" value="Deployment Gen"/> -->

    </form>
    <br><br>
    <div class="page-header">
      <h1><small>HAutoScaling Template Form</small></h1>
    </div>
    <form id="hAutoScalingGenForm">

      <label for="projectName"  class="col-sm-2 col-form-label">Project name:</label>
      <input type="text" class="form-control-plaintext" id="hAutoScalingProjectNameInput"/><br><br>

      <label for="appPort" class="col-sm-2 col-form-label">Min Replicas:</label>
      <input type="text" class="form-control-plaintext" id="minReplicas"/><br><br>

      <label for="appPort" class="col-sm-2 col-form-label">Max Replicas:</label>
      <input type="text" class="form-control-plaintext" id="maxReplicas"/><br><br>

      <label for="javaVersion" class="col-sm-2 col-form-label">CPU Avg Utilizn:</label>
      <input type="text" class="form-control-plaintext" id="cpuAvgUtlztn"/><br><br>

      <label for="finalName" class="col-sm-2 col-form-label">Mem Avg Utilizn:</label>
      <input type="text" class="form-control-plaintext" id="memAvgUtlztn"/><br><br>

      <label for="finalName"class="col-sm-2 col-form-label">Pods Avg Value:</label>
      <input type="text" class="form-control-plaintext" id="podsAvgValue"/><br><br>

      <label for="finalName" class="col-sm-2 col-form-label">Obj Avg Value:</label>
      <input type="text" class="form-control-plaintext" id="objAvgValue"/><br><br>
    </form><br><br><br>

      <div class="row">
         <div class="input-group">
            <span class="input-group-addon">
            <input type="checkbox"  id="genDockerChkBox" aria-label="...">
            </span>
            <label for="finalName" class="col-sm-2 col-form-label">Generate Docker </label>

            <span class="input-group-addon">
               <input type="checkbox" id="genPipelineChkBox" aria-label="...">
            </span>
            <label for="finalName" class="col-sm-2 col-form-label">Generate Pipeline </label>

            <span class="input-group-addon">
               <input type="checkbox" id="genDeploymentChkBox" aria-label="...">
            </span>
            <label for="finalName" class="col-sm-2 col-form-label">Generate Deployment </label>

            <span class="input-group-addon">
               <input type="checkbox" id="genHAutoscalingChkBox" aria-label="...">
            </span>
            <label for="finalName" class="col-sm-2 col-form-label">Generate HAutoscaling </label>
         </div><!-- /input-group -->
    <br>
    <br>
    <input id="templateGenButton" class="btn btn-default navbar-btn" type="button" value="Generate Templates"/>
   <!-- <input id="dockerButton" type="button" value="Docker Gen"/>
   <input id="pipelineButton" type="button" value="Pipeline Gen"/>
   <input id="deploymentButton" type="button" value="Deployment Gen"/> -->
<body>
<script>
    
   //  document.getElementById('templateGenButton').addEventListener("click", sayHello()); 
    document.getElementById('templateGenButton').addEventListener("click", function(){
         var techInputHandle = document.getElementById('techInput');
         var techInputValue = techInputHandle.value;

         console.log('calling templateGen');
         // alert('techInputHandle' + techInputHandle);
         // alert('techInputValue' + techInputValue);   
    });

   //  function sayHello() {
   //    var techInputHandle = document.getElementById('techInput');
   //    var techInputValue = techInputHandle.value;

   //    console.log('calling templateGen');
   //    alert('techInputHandle' + techInputHandle);
   //    alert('techInputValue' + techInputValue);
   //  }

   $(document).ready(function(){
      // $("#templateGen").on('submit', function(e){
      //   e.preventDefault();
      //   var data = $('input[name=techInput]').val();
      //   console.log('' + data);
      //   dockerGen();
      // });

      $('#dockerButton').click(function(){
         console.log('calling dockerGen');
         dockerGen();
      });
      $('#pipelineButton').click(function(){
         console.log('calling pipelineGen');
         pipelineGen();
      });
      $('#deploymentButton').click(function(){
         console.log('calling deploymentGen');
         deploymentGen();
      });



      $('#templateGenButton').click(function(){
         templateGen();
      });
   });

   function templateGen(){
       console.log('inside templateGen');
       
       var techInputVal = $('#techInput').val();
       var projectNameInputVal = $('#projectNameInput').val();
       var appPortVal = $('#appPortInput').val();
       var javaVersionInputVal= $('#javaVersionInput').val();
       var finalNameInputVal = $('#finalNameInput').val();

      var pipelineProjectNameInputVal = $('#pipelineProjectNameInput').val();
      var piplelineAppPortInputVal = $('#piplelineAppPortInput').val();
      
      var deploymentProjectNameInputVal = $('#deploymentProjectNameInput').val();
      var deploymentAppPortInputVal = $('#deploymentAppPortInput').val();

      var hAutoScalingProjectNameInputVal = $('#hAutoScalingProjectNameInput').val();
      var minReplicasVal = $('#minReplicas').val();
      var maxReplicasVal = $('#maxReplicas').val();
      var cpuAvgUtlztnVal = $('#cpuAvgUtlztn').val();
      var memAvgUtlztnVal = $('#memAvgUtlztn').val();
      var podsAvgValueVal = $('#podsAvgValue').val();
      var objAvgValueVal = $('#objAvgValue').val();

      var genDockerChkBoxVal = $('#genDockerChkBox').prop('checked');
      var genPipelineChkBoxVal = $('#genPipelineChkBox').prop('checked');
      var genDeploymentChkBoxVal = $('#genDeploymentChkBox').prop('checked');
      var genHAutoscalingChkBoxVal = $('#genHAutoscalingChkBox').prop('checked');

      // alert('checkbox values - ' + genDockerChkBoxVal );
      //  console.log(techInputVal);
      //  var dataToSend = "{'techInput':'" + techInputVal + "'}";
       $.ajax({
          type: 'post',
          url: "http://localhost:3000/templateFileGen",
          data: { techInput: techInputVal, projectNameInput: projectNameInputVal,
             appPort: appPortVal, javaVersion: javaVersionInputVal, finalName: finalNameInputVal,
            
            pipelineProjectNameInput: pipelineProjectNameInputVal,
            piplelineAppPortInput: piplelineAppPortInputVal,
            
            deploymentProjectNameInput: deploymentProjectNameInputVal,
            deploymentAppPortInput: deploymentAppPortInputVal,

            hAutoScalingProjectNameInput: hAutoScalingProjectNameInputVal,
            minReplicas: minReplicasVal,
            maxReplicas: maxReplicasVal,
            cpuAvgUtlztn: cpuAvgUtlztnVal, 
            memAvgUtlztn: memAvgUtlztnVal,
            podsAvgValue: podsAvgValueVal,
            objAvgValue: objAvgValueVal,
            genDockerChkBoxValue: genDockerChkBoxVal,
            genPipelineChkBoxValue: genPipelineChkBoxVal,
            genDeploymentChkBoxValue: genDeploymentChkBoxVal,
            genHAutoscalingChkBoxValue: genHAutoscalingChkBoxVal  },
            
          contentType: 'application/x-www-form-urlencoded; charset=UTF-8'
       });
   }

   function dockerGen(){
       console.log('inside dockerGen');
       
       var techInputVal = $('#techInput').val();
       var projectNameInputVal = $('#projectNameInput').val();
       var appPortVal = $('#appPortInput').val();
       var javaVersionInputVal= $('#javaVersionInput').val();
       var finalNameInputVal = $('#finalNameInput').val();

       console.log(techInputVal);
       var dataToSend = "{'techInput':'" + techInputVal + "'}";
       $.ajax({
          type: 'post',
          url: "http://localhost:3000/dockerFileGen",
          data: { techInput: techInputVal, projectNameInput: projectNameInputVal,
             appPort: appPortVal, javaVersion: javaVersionInputVal, finalName: finalNameInputVal},
          contentType: 'application/x-www-form-urlencoded; charset=UTF-8'
       });
   }

   function pipelineGen(){
      console.log('inside pipelineGen');

      var pipelineProjectNameInputVal = $('#pipelineProjectNameInput').val();
      var piplelineAppPortInputVal = $('#piplelineAppPortInput').val();

       $.ajax({
          type: 'post',
          url: "http://localhost:3000/pipelineFileGen",
          data: { pipelineProjectNameInput: pipelineProjectNameInputVal,
            piplelineAppPortInput: piplelineAppPortInputVal},
          contentType: 'application/x-www-form-urlencoded; charset=UTF-8'
       });
      
   } 

   function deploymentGen(){
      console.log('inside deploymentGen');

      var deploymentProjectNameInputVal = $('#deploymentProjectNameInput').val();
      var deploymentAppPortInputVal = $('#deploymentAppPortInput').val();

       $.ajax({
          type: 'post',
          url: "http://localhost:3000/deploymentFileGen",
          data: { deploymentProjectNameInput: deploymentProjectNameInputVal,
            deploymentAppPortInput: deploymentAppPortInputVal},
          contentType: 'application/x-www-form-urlencoded; charset=UTF-8'
       });

   } 

    </script>
</html>